<div class="HakaQuestionLayer">
  <div class="HakaQuestionLayer-headerBar HakaQuestionLayer-headerBar--{{layer.visibleState}}" on:click="onToggleClick()"></div>
  <div class="HakaQuestionLayer-content HakaQuestionLayer-content--{{layer.visibleState}}">
    <p>{{layer.question}}</p>
    {{#each layer.answers as answer}}
      <button on:click="onAnswerClick(answer)">{{{answer.value}}}</button>
    {{/each}}
    <p>{{{layer.resultText}}}</p>
  </div>
</div>

<script>
  export default {
    methods: {
      onAnswerClick(answer) {
        const layer = this.get('layer');
        layer.resultText = answer.text;
        this.set({ layer });
      },
      onToggleClick() {
        const layer = this.get('layer');
        layer.visibleState = (layer.visibleState === 'expanded') ? 'collapsed' : 'expanded'
        this.set({ layer });
      }
    }
  };
</script>
